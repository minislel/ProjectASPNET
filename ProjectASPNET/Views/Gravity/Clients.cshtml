@using X.PagedList;
@using X.PagedList.Mvc;
@using X.PagedList.Mvc.Core;
@model IPagedList<ProjectASPNET.Models.CustomerViewModel>

@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    ViewData["Title"] = "Clients";
}
<table class="table">
    <thead>
        <tr>
			<th>
				@Html.DisplayNameFor(model => model.First().CustomerId)
			</th>
			<th>
				@Html.DisplayNameFor(model => model.First().FirstName)
			</th>
			<th>
				@Html.DisplayNameFor(model => model.First().LastName)
			</th>
			<th>
				@Html.DisplayNameFor(model => model.First().CountryName)
			</th>
			<th>
				@Html.DisplayNameFor(model => model.First().orderCount)
			</th>
        </tr>
    </thead>
    <tbody>
		@foreach (var item in Model)
		{
			<tr>
				<td>
					@Html.DisplayFor(modelItem => item.CustomerId)
				</td>
				<td>
					@Html.DisplayFor(modelItem => item.FirstName)
				</td>
				<td>
					@Html.DisplayFor(modelItem => item.LastName)
				</td>
				<td>
					@Html.DisplayFor(modelItem => item.CountryName)
				</td>
				
				<td>
					<a href="@Url.Action("Orders", new { customerId = item.CustomerId })">
						@Html.DisplayFor(modelItem => item.orderCount)
					</a>
				</td>
				

			</tr>
		}
</table>

<div>
	@Html.PagedListPager(Model, page => Url.Action("Clients", new { page }), new PagedListRenderOptions
{
	UlElementClasses = new[] { "pagination", "justify-content-center" },
	LiElementClasses = new[] { "page-item" },
	PageClasses = new[] { "page-link" },
	ActiveLiElementClass = "active",
	LinkToPreviousPageFormat = "Previous",
	LinkToNextPageFormat = "Next",
	LinkToLastPageFormat = ">|",
	LinkToFirstPageFormat = "|<"
})
</div>
<a class="btn btn-primary mx-auto" asp-action="Create">
	Create new
</a>
